id: virat
traits:
  - target_player
  - no_map_collision
stats:
  hp: 5
  speed: 200
  damage: 1
visuals:
  sprite: "src/assets/objects/virat.png"
  draw_params:
    # 3.005780347 x 3.008849558
    dest_size: [12.975, 8.475]
    rotation: 0.0
    flip_x: false
    flip_y: false
    pivot: [0, 0]
    color: [255, 255, 255, 255]
    offset: [0, 0]
hitbox:
  x: 12.975
  y: 8.475
  w: 12.975
  h: 8.475
behavior:
  type: selector
  children:
    - type: sequence
      always: true
      children:
        - type: condition
          name: target_in_range
          value: 0.35 # the viewport is 1.0 in width and height
        - type: action
          name: dash_at_target
          params:
            dash_cooldown: 1.5
            dash_speed: 600
            dash_duration: 0.2
    - type: action
      name: watch
      params:
        seek_range: 40
        flee_range: 40
        seek_force: 50
        flee_force: 300
        range_blend: 25
      always: true
    - type: sequence
      children:
        - type: not_condition
          name: target_in_range
          value: 0.5
        - type: action
          name: seek
      always: true
