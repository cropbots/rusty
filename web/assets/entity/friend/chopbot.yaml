id: chopbot
traits:
  - dynamic_targeting
  - target_nearest_enemy
  - no_player_collision
  - no_map_collision
  - erratic
stats:
  hp: 5 
  speed: 300
  damage: 1
visuals:
  sprite: "src/assets/objects/chopbot.png"
  draw_params:
    # 3.005780347 x 3.008849558
    dest_size: [11.16, 10]
    rotation: 0.0
    flip_x: false
    flip_y: false
    pivot: [0, 0]
    color: [255, 255, 255, 255]
    offset: [0, 0]
hitbox:
  x: 11.16
  y: 10
  w: 11.16
  h: 10
behavior:
  type: selector
  children:
    - type: sequence
      children:
        - type: condition
          name: target_in_range
          value: 0.25 # the viewport is 1.0 in width and height
        - type: action
          name: curve_dash_at_target
          params:
            dash_cooldown: 1.0
            arc_strength: 0.1
            dash_speed: 300
            dash_duration: 0.4
    - type: sequence
      always: true
      children:
        - type: not_condition
          name: has_target
        - type: condition
          name: player_in_range
          value: 0.75
        - type: action
          name: wander
          params:
            speed: 50
            turn_rate: 1.0
    - type: sequence
      always: true
      children:
        - type: not_condition
          name: has_target
        - type: not_condition
          name: player_in_range
          value: 0.75
        - type: action
          name: seek_player
          speed: 50
    - type: action
      name: watch
      params:
        seek_range: 40
        flee_range: 10
        seek_force: 100
        flee_force: 50
        range_blend: 25
      always: true
